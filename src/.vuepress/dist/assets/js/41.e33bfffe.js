(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{455:function(o,e,_){"use strict";_.r(e);var v=_(26),t=Object(v.a)({},(function(){var o=this,e=o.$createElement,_=o._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[_("h1",{attrs:{id:"storage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#storage"}},[o._v("#")]),o._v(" Storage")]),o._v(" "),_("p",[o._v("前端本地存储的方式有三种，分别是")]),o._v(" "),_("ul",[_("li",[_("code",[o._v("cookie")])]),o._v(" "),_("li",[_("code",[o._v("localstorage")])]),o._v(" "),_("li",[_("code",[o._v("sessionStorage")])])]),o._v(" "),_("h2",{attrs:{id:"cookie-和-session"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cookie-和-session"}},[o._v("#")]),o._v(" "),_("code",[o._v("cookie")]),o._v(" 和 "),_("code",[o._v("session")])]),o._v(" "),_("p",[_("code",[o._v("cookie")]),o._v(" 和 "),_("code",[o._v("session")]),o._v(" 都是普遍用来跟踪浏览用户身份的会话方式。")]),o._v(" "),_("ul",[_("li",[_("code",[o._v("cookie")]),o._v(" 数据存放在客户端，"),_("code",[o._v("session")]),o._v(" 数据放在服务器端。")]),o._v(" "),_("li",[_("code",[o._v("cookie")]),o._v(" 本身并不安全，考虑到安全应当使用 "),_("code",[o._v("session")]),o._v("。")]),o._v(" "),_("li",[_("code",[o._v("session")]),o._v(" 会在一定时间内保存在服务器上。如果访问量比较大，会比较消耗服务器的性能。考虑到减轻服务器性能方面的开销，应当使用 "),_("code",[o._v("cookie")]),o._v(" 。")]),o._v(" "),_("li",[o._v("单个 "),_("code",[o._v("cookie")]),o._v(" 保存的数据不能超过 "),_("code",[o._v("4K")]),o._v("，很多浏览器都限制一个域名最多保存 "),_("code",[o._v("50")]),o._v(" 个 cookie。")]),o._v(" "),_("li",[o._v("将登陆信息等重要信息存放为 "),_("code",[o._v("session")]),o._v("、其他信息如果需要保留，可以放在 "),_("code",[o._v("cookie")]),o._v(" 中。")])]),o._v(" "),_("h2",{attrs:{id:"三者异同"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三者异同"}},[o._v("#")]),o._v(" 三者异同")]),o._v(" "),_("h3",{attrs:{id:"生命周期"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[o._v("#")]),o._v(" 生命周期")]),o._v(" "),_("ul",[_("li",[_("p",[_("code",[o._v("cookie")]),o._v("：可设置失效时间，没有设置的话，默认是关闭浏览器后失效")])]),o._v(" "),_("li",[_("p",[_("code",[o._v("localStorage")]),o._v("：除非被手动清除，否则将会永久保存。")])]),o._v(" "),_("li",[_("p",[_("code",[o._v("sessionStorage")]),o._v("： 仅在当前网页会话下有效，关闭页面或浏览器后就会被清除。")])])]),o._v(" "),_("h3",{attrs:{id:"存放数据大小"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#存放数据大小"}},[o._v("#")]),o._v(" 存放数据大小")]),o._v(" "),_("ul",[_("li",[_("p",[_("code",[o._v("cookie")]),o._v("："),_("strong",[o._v("4KB")]),o._v(" 左右")])]),o._v(" "),_("li",[_("p",[_("code",[o._v("localStorage")]),o._v("和"),_("code",[o._v("sessionStorage")]),o._v("：可以保存 "),_("strong",[o._v("5MB")]),o._v(" 的信息")])])]),o._v(" "),_("h3",{attrs:{id:"http-请求"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http-请求"}},[o._v("#")]),o._v(" http 请求")]),o._v(" "),_("ul",[_("li",[_("p",[_("code",[o._v("cookie")]),o._v("：每次都会携带在"),_("code",[o._v("HTTP")]),o._v("头中，如果使用"),_("code",[o._v("cookie")]),o._v("保存过多数据会带来性能问题")])]),o._v(" "),_("li",[_("p",[_("code",[o._v("localStorage")]),o._v("和"),_("code",[o._v("sessionStorage")]),o._v("：仅在客户端（即浏览器）中保存，不参与和服务器的通信")])])]),o._v(" "),_("h3",{attrs:{id:"易用性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#易用性"}},[o._v("#")]),o._v(" 易用性：")]),o._v(" "),_("p",[_("code",[o._v("cookie")]),o._v("：需要程序员自己封装，源生的"),_("code",[o._v("Cookie")]),o._v("接口不友好")]),o._v(" "),_("p",[_("code",[o._v("localStorage")]),o._v("和"),_("code",[o._v("sessionStorage")]),o._v("：源生接口可以接受，亦可再次封装来对"),_("code",[o._v("Object")]),o._v("和"),_("code",[o._v("Array")]),o._v("有更好的支持")]),o._v(" "),_("h3",{attrs:{id:"跨域"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[o._v("#")]),o._v(" 跨域")]),o._v(" "),_("ul",[_("li",[_("code",[o._v("localStorage")]),o._v(" 不可以跨域,可以跨页面")]),o._v(" "),_("li",[_("code",[o._v("sessionStorage")]),o._v(" 不可以跨域，不可以跨页面（刷新页面不会丢失）")]),o._v(" "),_("li",[_("code",[o._v("cookie")]),o._v(" 可以设置"),_("code",[o._v("domain")]),o._v("字段解决2级域名跨域问题")])]),o._v(" "),_("h2",{attrs:{id:"应用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[o._v("#")]),o._v(" 应用场景")]),o._v(" "),_("p",[o._v("从安全性来说，因为每次 http 请求都会携带 "),_("code",[o._v("cookie")]),o._v(" 信息，这样无形中浪费了带宽，所以 "),_("code",[o._v("cookie")]),o._v(" 应该尽可能少的使用，另外 "),_("code",[o._v("cookie")]),o._v(" 还需要"),_("strong",[o._v("指定作用域")]),o._v("，"),_("strong",[o._v("不可以跨域调用")]),o._v("，限制比较多。但是用来识别用户登录来说，cookie 还是比 storage 更好用的。其他情况下，可以使用 storage，就用 storage。")]),o._v(" "),_("p",[_("code",[o._v("storage")]),o._v(" 在存储数据的大小上面秒杀了 "),_("code",[o._v("cookie")]),o._v("，现在基本上很少使用 "),_("code",[o._v("cookie")]),o._v(" 了.")]),o._v(" "),_("p",[_("code",[o._v("localStorage")]),o._v(" 和 "),_("code",[o._v("sessionStorage")]),o._v(" 唯一的差别一个是永久保存在浏览器里面，一个是关闭网页就清除了信息。")]),o._v(" "),_("p",[_("code",[o._v("localStorage")]),o._v(" 可以用来夸页面传递参数，"),_("code",[o._v("sessionStorage")]),o._v(" 用来保存一些临时的数据，防止用户刷新页面之后丢失了一些参数。")]),o._v(" "),_("h2",{attrs:{id:"扩展阅读"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读"}},[o._v("#")]),o._v(" 扩展阅读")]),o._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://juejin.cn/post/7002520994434777119",target:"_blank",rel:"noopener noreferrer"}},[o._v("登录功能的实现"),_("OutboundLink")],1)]),o._v(" "),_("li",[_("a",{attrs:{href:"https://juejin.cn/post/6933115003327217671",target:"_blank",rel:"noopener noreferrer"}},[o._v("前端常见登录实现方案 + 单点登录方案"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=t.exports}}]);