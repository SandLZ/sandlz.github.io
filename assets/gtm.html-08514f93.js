import{_ as r,M as c,p as d,q as o,t as e,R as a,N as t,a1 as s}from"./framework-201fec1f.js";const n={},l=s('<h1 id="google-seo" tabindex="-1"><a class="header-anchor" href="#google-seo" aria-hidden="true">#</a> Google SEO</h1><blockquote><p>结合 GTM 与 GA4, 灵活的统计系统使用情况。</p></blockquote><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><h3 id="google-analytics-4-是什么" tabindex="-1"><a class="header-anchor" href="#google-analytics-4-是什么" aria-hidden="true">#</a> <code>Google Analytics 4</code> 是什么？</h3><p><code>GA4</code> 是专为未来的衡量方式而设计的全新媒体资源。</p><ul><li><p>收集网站数据和应用数据，有助于更好地了解客户转化历程</p></li><li><p>使用基于事件而非基于会话的数据</p></li><li><p>提供如无 <code>Cookie</code> 衡量”等隐私控制项，以及行为建模和根据模型估算转化</p></li><li><p>具备无需构建复杂模型即可预测的能力，可发挥指导作用</p></li><li><p>与媒体平台直接集成，有助于吸引用户采取行动</p></li></ul><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>2023 年 7 月 1 日起，标准 <code>Universal Analytics</code> 媒体资源将不再处理数据。在 2023 年 7 月 1 日之后的一段时间内，你仍然可以查看 <code>Universal Analytics</code> 报告。但是，新数据只会传入 <code>Google Analytics（分析）4</code> 媒体资源。</p></div><h3 id="google-tag-manager-是什么" tabindex="-1"><a class="header-anchor" href="#google-tag-manager-是什么" aria-hidden="true">#</a> <code>Google Tag Manager</code> 是什么？</h3><p><code>Google Tag Manager</code> 是一个标签管理系统。</p><ul><li><p>基于 Web 的用户界面在网站或移动应用程序上配置和即时部署标签。</p></li><li><p><code>Google Tag Manager</code> 支持标签组织和版本控制、第三方和社区开发的标签模板。</p></li><li><p><code>Google Tag Manager</code> 有助于优化代码部署，减少代码配置错误。</p></li><li><p>基于 <code>Web</code> 的界面立即修改和部署站点上的代码。</p></li></ul><h3 id="google-tag-manager和google-analytics-4的区别" tabindex="-1"><a class="header-anchor" href="#google-tag-manager和google-analytics-4的区别" aria-hidden="true">#</a> <code>Google Tag Manager</code>和<code>Google Analytics 4</code>的区别？</h3><p><code>Google Tag Manager</code> 是一个标签管理系统，管理着包含 <code>GA4</code> 在内的其他标签代码。<code>Google Analytics 4</code> 是一个数据统计和储存系统。只展示从 <code>GA4</code> 代码统计过来的数据。</p><p><code>Google Tag Manager</code> 中不展示任何数据成效，在<code>Google Tag Manager</code> 设置的标签和事件，<code>GTM</code> 会将网站数据发送到其他营销/分析工具，如<code>GA4</code>，<code>Google Ads</code>。</p><p>你可以使用<code>Google Tag Manager</code>和<code>GA4</code>相结合，也可以单独使用<code>UA</code>或者<code>GA4</code>（缺点：管理复杂，无法跟踪更加细节的事件成效）。</p><h2 id="账号设置" tabindex="-1"><a class="header-anchor" href="#账号设置" aria-hidden="true">#</a> 账号设置</h2><h3 id="gtm" tabindex="-1"><a class="header-anchor" href="#gtm" aria-hidden="true">#</a> GTM</h3><ol><li>新建账号</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_Cl4TOm.png"></div><ol start="2"><li>同意协议</li><li>安装代码至目标网站</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_IM1v8K.png"></div><h3 id="ga4" tabindex="-1"><a class="header-anchor" href="#ga4" aria-hidden="true">#</a> GA4</h3><ol><li>新建媒体资源</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_zcffwQ.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_7w6Iuq.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_dHJuEL.png"></div><ol start="2"><li>记录衡量值（后面结合 GTM 时用到）</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_HErHGZ.png" alt="xxxxx"></div><h2 id="gtm-结合-ga4" tabindex="-1"><a class="header-anchor" href="#gtm-结合-ga4" aria-hidden="true">#</a> GTM 结合 GA4</h2><p>结合 GA4 之前先了解下 GTM 中的几个概念：代码、触发器、变量</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_YuqQwf.png"></div><h3 id="代码、触发器、变量" tabindex="-1"><a class="header-anchor" href="#代码、触发器、变量" aria-hidden="true">#</a> 代码、触发器、变量</h3><p><strong>代码</strong>：代码是数据分析、营销或支持提供商提供的代码段，可帮我们将其标签代码整合到我们的网站或移动应用中，例如<code>GA4</code>标签代码，<code>Google ads</code>, <code>Facebook pixel</code>等;</p><p><strong>触发器</strong>：代码触发的条件，一旦用户行为触发这个条件，那么标签代码就会发出记录返回这个数据。例如 <code>page view</code>, <code>Click link</code>等;</p><p><strong>变量</strong>：触发条件中包含你想掌握的其他参数等信息，例如菜单点击事件中，我们想知道条件触发时，用户具体点击的是哪个菜单 url,哪个菜单名称等。</p><h3 id="gtm-中配置-ga4-事件" tabindex="-1"><a class="header-anchor" href="#gtm-中配置-ga4-事件" aria-hidden="true">#</a> GTM 中配置 GA4 事件</h3><ol><li><strong>创建代码</strong></li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_d7qlct.png"></div>',37),g=s(`<div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_id54PK.png"></div><p>注：衡量 ID 位于 GA4 -&gt; 媒体资源 -&gt; 数据流 -&gt; 网站数据流详情</p><ol start="3"><li><strong>发布</strong></li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_uva99D.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_ycLwDy.png"></div><h2 id="click-事件" tabindex="-1"><a class="header-anchor" href="#click-事件" aria-hidden="true">#</a> Click 事件</h2><p>对某一个特定页面，某一个元素，某一按钮进行点击跟踪，以了解我们的营销成果，那么我们就可以创建一个 click 事件。例如客户点击菜单，点击加购按钮等，监控这些元素的 click 可以了解我们的营销或者转化的情况。</p><ol><li>新建触发器: 选择点击所有元素，触发条件如使用<code>ID</code>条件；</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_8LkaVz.png"></div><ol start="2"><li>新建代码：用于将事件发送给<code>GA4</code></li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_9NhnYt.png"></div><ol start="3"><li>触发器中选择代码</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_ExH0pr.png"></div><h2 id="变量" tabindex="-1"><a class="header-anchor" href="#变量" aria-hidden="true">#</a> 变量</h2><p>GTM 内置大量变量，如下图所示：</p><div style="display:flex;"><img style="width:33%;" src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_d7hVt9.png"><img style="width:33%;" src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_cM4DnJ.png"><img style="width:33%;" src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_gejqCl.png"></div><p>常用变量：</p><ol><li>Click ID ：点击元素的 ID</li><li>Click Classes: 点击元素的 Class 列表</li></ol><h3 id="自定义变量" tabindex="-1"><a class="header-anchor" href="#自定义变量" aria-hidden="true">#</a> 自定义变量</h3><p>自定义变量可满足用户多场景的需求，如下图所示：</p><div style="display:flex;"><img style="width:50%;" src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_btwtc6.png"><img style="width:50%;" src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_fdxOqW.png"></div><p>常用自定义变量类型：</p><h4 id="自定义-javascript" tabindex="-1"><a class="header-anchor" href="#自定义-javascript" aria-hidden="true">#</a> 自定义 JavaScript</h4><p>提供函数，当使用到此变量时，会调用此函数。</p><p>注：此字段应当是使用<code>return</code>语句返回值的 JavaScript 函数。如果该函数未明确返回值，则会返回未定义状态，此时您的容器将无法正常运行。</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_HEARNt.png"></div><h3 id="javascript-变量" tabindex="-1"><a class="header-anchor" href="#javascript-变量" aria-hidden="true">#</a> JavaScript 变量</h3><p>提供全局变量</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_gYkujP.png"></div><h2 id="版本管理" tabindex="-1"><a class="header-anchor" href="#版本管理" aria-hidden="true">#</a> 版本管理</h2><h3 id="发布新版本" tabindex="-1"><a class="header-anchor" href="#发布新版本" aria-hidden="true">#</a> 发布新版本</h3><ol><li>当工作区有变更时，可在顶部看到更改的数量，下方也有具体的修改内容列表。</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_K2Mb76.png"></div><ol start="2"><li><p>点击预览，进入调试模式，确认改动有效</p><p>当触发相应条件时，<code>Tags Not Fired</code>中对应的 Item 应移动至<code>Tags Fired</code>,此时表明配置生效。</p></li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_oTzR8K.png"><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_qiWWP7.png"><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_3KBCWd.png"></div><ol start="3"><li>确认发布</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_32UCGJ.png"></div><h3 id="版本回退" tabindex="-1"><a class="header-anchor" href="#版本回退" aria-hidden="true">#</a> 版本回退</h3><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_22_4XTGId.png"></div><h3 id="何时生效" tabindex="-1"><a class="header-anchor" href="#何时生效" aria-hidden="true">#</a> 何时生效</h3><p><code>gtm.js</code>文件请求如下：</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_09_AJ88au.png"></div><p>强缓存：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Expires: 过期时间(HTTP 1.0)
Cache-Control : 缓存控制(HTTP 1.1)
优先级：Cache-Control &gt; Expires（不支持HTTP 1.1时使用Expires）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>协商缓存： 当强缓存失效后，通过协商缓存查看资源是否过期。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Last-Modified: 资源在服务器上的最后修改时间
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>综上：</p><p>若浏览器支持 HTTP1.1，则缓存时间为 900 秒，即 15 分钟；超过 15 分钟再次访问资源时，走协商缓存。 若浏览器不支持 HTTP1.1，则强缓存默认失效（资源请求时间）；再次访问资源时，走协商缓存。</p><h2 id="分析报告" tabindex="-1"><a class="header-anchor" href="#分析报告" aria-hidden="true">#</a> 分析报告</h2><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_xy9VjK.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_00WJBE.png"></div><p>常规的统计可在概况、实时、事件等页面查看相关数据；那么如何分析事件中的自定义参数呢？这就需要用到自定义维度功能。</p><h3 id="自定义维度" tabindex="-1"><a class="header-anchor" href="#自定义维度" aria-hidden="true">#</a> 自定义维度</h3><p>自定义维度和自定义指标类似于您 Google Analytics（分析）帐号中的默认维度和指标，唯一的区别在于前者由您自己创建。 您可以使用它们来收集和分析 Google Analytics（分析）不会自动跟踪的数据。</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_NBRrYF.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_FomExj.png"></div><h3 id="自定义分析报告" tabindex="-1"><a class="header-anchor" href="#自定义分析报告" aria-hidden="true">#</a> 自定义分析报告</h3><p>自定义分析报告可根据你的需求自定义分析维度及过滤条件，快速的访问报告。</p><ol><li>点击自定义报告按钮；</li><li>选择尺寸 -&gt; 选择自定义参数；</li><li>根据需求添加过滤条件；</li><li>根据需求选择图表；</li><li>根据需求添加新的摘要卡。</li></ol><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_GDlKT3.png"></div><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_yYb8tF.png"><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_9ofUHa.png"></div><p>备注：</p><ol><li>自定义报告保存在 **《库》**中；</li><li>管理员可通过编辑 <strong>《集合》</strong> 将报告挪至侧边栏中供更快的访问。</li></ol><h3 id="事件按自定义维度查询" tabindex="-1"><a class="header-anchor" href="#事件按自定义维度查询" aria-hidden="true">#</a> 事件按自定义维度查询</h3><p>筛选自定义维度中的参数 -&gt; 过滤后的事件</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_YaE3Zn.png"></div><p>查看更多的事件参数</p><div><img src="https://raw.githubusercontent.com/sandlz/images/master/uPic/2023_03_20_aX9ydS.png"></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2>`,69),h={href:"https://support.google.com/tagmanager/answer/7182738?hl=zh-Hans&ref_topic=7182737",target:"_blank",rel:"noopener noreferrer"},p={href:"https://zhuanlan.zhihu.com/p/544446340",target:"_blank",rel:"noopener noreferrer"};function m(u,_){const i=c("ExternalLinkIcon");return d(),o("div",null,[l,e(" 2. **配置代码类型及触发条件** "),g,a("p",null,[a("a",h,[e("GTM Support"),t(i)]),a("a",p,[e("GTM & GA4"),t(i)])])])}const b=r(n,[["render",m],["__file","gtm.html.vue"]]);export{b as default};
